<!DOCTYPE html>
<html lang="id" data-theme="emerald">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sampahpedia - Ensiklopedia Sampah & 3R</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
    
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #10b981 0%, #34d399 50%, #6ee7b7 100%);
        }
        .gradient-text {
            background: linear-gradient(135deg, #065f46, #047857, #059669);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .waste-card {
            transition: all 0.3s ease;
        }
        .waste-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
        }
        .quiz-option {
            transition: all 0.3s ease;
        }
        .quiz-option:hover {
            background: #f0fdf4;
            border-color: #10b981;
        }
    </style>
</head>
<body class="bg-base-100">
    <!-- Navigation -->
    <nav class="navbar gradient-bg shadow-lg fixed top-0 z-50" data-aos="fade-down">
        <div class="navbar-start">
            <div class="dropdown">
                <div tabindex="0" role="button" class="btn btn-ghost lg:hidden text-white">
                    <i class="fas fa-bars text-xl"></i>
                </div>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="#home" class="text-green-700">Beranda</a></li>
                    <li><a href="#encyclopedia-section" class="text-green-700">Ensiklopedia</a></li>
                    <li><a href="#data-section" class="text-green-700">Data 3R</a></li>
                    <li><a href="#quiz-section" class="text-green-700">Kuis</a></li>
                </ul>
            </div>
            <a class="btn btn-ghost normal-case text-xl text-white font-bold">
                <i class="fas fa-book mr-2"></i>Sampahpedia
            </a>
        </div>
        <div class="navbar-center hidden lg:flex">
            <ul class="menu menu-horizontal px-1 text-white font-medium">
                <li><a href="#home" class="hover:bg-green-600">Beranda</a></li>
                <li><a href="#encyclopedia-section" class="hover:bg-green-600">Ensiklopedia</a></li>
                <li><a href="#data-section" class="hover:bg-green-600">Data 3R</a></li>
                <li><a href="#quiz-section" class="hover:bg-green-600">Kuis</a></li>
            </ul>
        </div>
        <div class="navbar-end">
            <button class="btn btn-ghost text-white" onclick="startQuiz()">
                <i class="fas fa-play mr-2"></i>Mulai Kuis
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero min-h-screen gradient-bg relative overflow-hidden">
        <div class="hero-content text-center text-white relative z-10">
            <div class="max-w-4xl" data-aos="fade-up" data-aos-duration="1000">
                <div class="floating mb-8">
                    <i class="fas fa-recycle text-8xl opacity-20 absolute -top-10 -left-10"></i>
                    <i class="fas fa-leaf text-6xl opacity-20 absolute -bottom-5 -right-5"></i>
                </div>
                <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight" data-aos="fade-up" data-aos-delay="200">
                    Sampahpedia: Semua yang Perlu Kamu <span class="text-yellow-300">Tahu</span> Tentang Sampah
                </h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90 leading-relaxed max-w-4xl mx-auto" data-aos="fade-up" data-aos-delay="400">
                    Sampah bukan cuma masalah, tapi juga peluang. Kenali jenis-jenis sampah dari plastik, organik, B3, hingga elektronik. Pelajari cara memilah, mengelola, dan mendaur ulang secara benar. Semua disajikan dalam bentuk visual, cerita menarik, dan kuis edukatif yang cocok untuk anak-anak hingga orang dewasa.
                </p>
                <div class="flex flex-col md:flex-row gap-4 justify-center" data-aos="fade-up" data-aos-delay="600">
                    <button class="btn btn-lg bg-white text-green-600 hover:bg-green-50 border-none shadow-xl" onclick="scrollToEncyclopedia()">
                        <i class="fas fa-book-open mr-2"></i>
                        Mulai Belajar Sampah
                    </button>
                    <button class="btn btn-lg btn-outline text-white border-white hover:bg-white hover:text-green-600" onclick="startQuiz()">
                        <i class="fas fa-puzzle-piece mr-2"></i>
                        Ikuti Kuis Interaktif
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Floating Elements -->
        <div class="absolute top-20 left-10 floating" style="animation-delay: -1s;">
            <div class="w-20 h-20 bg-green-300 rounded-full opacity-20"></div>
        </div>
        <div class="absolute bottom-20 right-10 floating" style="animation-delay: -3s;">
            <div class="w-32 h-32 bg-green-400 rounded-full opacity-15"></div>
        </div>
    </section>

    <!-- Encyclopedia Section -->
    <section id="encyclopedia-section" class="py-20 bg-gradient-to-br from-green-50 to-emerald-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12" data-aos="fade-up">
                <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-6">
                    <i class="fas fa-book-open mr-2"></i>Ensiklopedia Sampah
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Pelajari berbagai jenis sampah, cara pengelolaan, dan dampaknya terhadap lingkungan
                </p>
            </div>

            <!-- Waste Categories -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12" id="wasteCategories">
                <!-- Categories will be populated by JavaScript -->
            </div>

            <!-- Video Section -->
            <div class="card bg-white shadow-xl mb-8" data-aos="fade-up">
                <div class="card-body text-center">
                    <h3 class="text-2xl font-bold gradient-text mb-4">
                        <i class="fas fa-play-circle mr-2"></i>Video Animasi: "Perjalanan Sampah Plastik"
                    </h3>
                    <div class="aspect-video bg-gray-200 rounded-lg flex items-center justify-center">
                        <div class="text-center">
                            <i class="fas fa-play-circle text-6xl text-green-500 mb-4 cursor-pointer hover:text-green-600"></i>
                            <p class="text-gray-600">Klik untuk memutar video animasi</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data 3R Section -->
    <section id="data-section" class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12" data-aos="fade-up">
                <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-6">
                    Database 3R (Reduce, Reuse, Recycle)
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Temukan cara-cara praktis untuk menerapkan 3R berdasarkan kategori sampah
                </p>
            </div>

            <!-- Filter Section -->
            <div class="mb-8" data-aos="fade-up">
                <div class="card bg-white shadow-xl">
                    <div class="card-body">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-semibold">Cari berdasarkan kategori</span>
                                </label>
                                <input type="text" id="searchCategory" placeholder="Ketik kategori sampah..." class="input input-bordered w-full focus:border-green-500" />
                            </div>
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-semibold">Filter berdasarkan jenis</span>
                                </label>
                                <select id="filterWasteCategory" class="select select-bordered w-full focus:border-green-500">
                                    <option value="">Semua Kategori</option>
                                    <option value="organik">Organik</option>
                                    <option value="anorganik">Anorganik</option>
                                    <option value="b3">B3 (Bahan Berbahaya)</option>
                                    <option value="elektronik">Elektronik</option>
                                </select>
                            </div>
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-semibold">Metode 3R</span>
                                </label>
                                <select id="filter3R" class="select select-bordered w-full focus:border-green-500">
                                    <option value="">Semua Metode</option>
                                    <option value="reduce">Reduce (Kurangi)</option>
                                    <option value="reuse">Reuse (Gunakan Kembali)</option>
                                    <option value="recycle">Recycle (Daur Ulang)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Table -->
            <div class="card bg-white shadow-xl" data-aos="fade-up" data-aos-delay="200">
                <div class="card-body">
                    <div class="overflow-x-auto">
                        <table id="wasteDataTable" class="table table-zebra w-full">
                            <thead>
                                <tr class="bg-gradient-to-r from-green-500 to-emerald-500 text-white">
                                    <th>Jenis Sampah</th>
                                    <th>Kategori</th>
                                    <th>Reduce (Kurangi)</th>
                                    <th>Reuse (Gunakan Kembali)</th>
                                    <th>Recycle (Daur Ulang)</th>
                                    <th>Dampak Lingkungan</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody">
                                <!-- Data will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quiz Section -->
    <section id="quiz-section" class="py-20 bg-gradient-to-br from-green-50 to-emerald-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12" data-aos="fade-up">
                <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-6">
                    <i class="fas fa-puzzle-piece mr-2"></i>Kuis: Tebak Jenis Sampah!
                </h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Uji pengetahuanmu tentang sampah dengan kuis interaktif yang menyenangkan
                </p>
            </div>

            <div class="max-w-4xl mx-auto">
                <div id="quizContainer" class="card bg-white shadow-xl" data-aos="fade-up">
                    <div class="card-body text-center">
                        <div id="quizStart" class="quiz-screen">
                            <i class="fas fa-play-circle text-8xl text-green-500 mb-6"></i>
                            <h3 class="text-3xl font-bold mb-4">Siap untuk Tantangan?</h3>
                            <p class="text-lg text-gray-600 mb-8">Tebak jenis sampah dan cara pengelolaannya yang benar!</p>
                            <button class="btn btn-lg bg-green-500 text-white hover:bg-green-600" onclick="startQuizGame()">
                                <i class="fas fa-play mr-2"></i>Mulai Kuis
                            </button>
                        </div>
                        
                        <div id="quizGame" class="quiz-screen hidden">
                            <div class="mb-6">
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-lg font-bold">Pertanyaan <span id="currentQuestion">1</span> dari <span id="totalQuestions">10</span></span>
                                    <span class="text-lg font-bold text-green-600">Skor: <span id="currentScore">0</span></span>
                                </div>
                                <progress id="quizProgress" class="progress progress-success w-full" value="10" max="100"></progress>
                            </div>
                            
                            <div id="questionContainer">
                                <h3 id="questionText" class="text-2xl font-bold mb-6"></h3>
                                <div id="questionImage" class="mb-6">
                                    <div class="w-48 h-48 mx-auto bg-gray-200 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-image text-4xl text-gray-400"></i>
                                    </div>
                                </div>
                                <div id="answerOptions" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <!-- Options will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <div id="quizResult" class="quiz-screen hidden">
                            <div id="resultContent">
                                <!-- Result will be populated by JavaScript -->
                            </div>
                            <button class="btn btn-lg bg-green-500 text-white hover:bg-green-600 mt-6" onclick="resetQuiz()">
                                <i class="fas fa-redo mr-2"></i>Main Lagi
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer footer-center p-10 bg-gradient-to-r from-green-800 to-emerald-800 text-white">
        <aside>
            <div class="text-4xl mb-4">
                <i class="fas fa-book"></i>
            </div>
            <p class="font-bold text-xl">Sampahpedia</p>
            <p class="opacity-80">Ensiklopedia Sampah untuk Bumi yang Lebih Bersih</p>
            <p class="opacity-60">Copyright © 2025 - Dibuat dengan ❤️ untuk Edukasi Lingkungan</p>
        </aside>
    </footer>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 50
        });

        // Waste data with 3R information
        const wasteData = [
            {
                name: "Botol Plastik",
                category: "anorganik",
                reduce: "Gunakan botol minum yang dapat digunakan berulang, hindari membeli air kemasan",
                reuse: "Dijadikan pot tanaman, wadah penyimpanan, atau kerajinan tangan",
                recycle: "Kumpulkan dan jual ke bank sampah untuk didaur ulang menjadi produk baru",
                impact: "Terurai dalam 450-1000 tahun, mencemari tanah dan air"
            },
            {
                name: "Sisa Makanan",
                category: "organik",
                reduce: "Masak secukupnya, simpan makanan dengan benar, habiskan makanan",
                reuse: "Sisa sayuran untuk kaldu, kulit buah untuk kompos",
                recycle: "Dijadikan kompos untuk pupuk tanaman atau pakan ternak",
                impact: "Menghasilkan gas metana jika tidak dikelola dengan baik"
            },
            {
                name: "Kertas Bekas",
                category: "anorganik",
                reduce: "Gunakan kertas bolak-balik, beralih ke digital, cetak seperlunya",
                reuse: "Jadikan kertas coret-coret, pembungkus, atau kerajinan",
                recycle: "Kumpulkan dan jual untuk didaur ulang menjadi kertas baru",
                impact: "Penggunaan berlebihan menyebabkan deforestasi"
            },
            {
                name: "Baterai Bekas",
                category: "b3",
                reduce: "Gunakan baterai rechargeable, pilih perangkat tanpa baterai",
                reuse: "Baterai yang masih berfungsi bisa dipindah ke perangkat lain",
                recycle: "Kumpulkan ke tempat khusus daur ulang baterai atau toko elektronik",
                impact: "Mengandung logam berat yang mencemari tanah dan air"
            },
            {
                name: "Smartphone Lama",
                category: "elektronik",
                reduce: "Rawat HP dengan baik, gunakan pelindung, hindari upgrade berlebihan",
                reuse: "Jadikan pemutar musik, kamera cadangan, atau donasikan",
                recycle: "Bawa ke pusat daur ulang elektronik atau program trade-in",
                impact: "Mengandung logam langka dan bahan kimia berbahaya"
            },
            {
                name: "Kantong Plastik",
                category: "anorganik",
                reduce: "Bawa tas belanja sendiri, hindari plastik sekali pakai",
                reuse: "Gunakan berkali-kali untuk belanja, wadah sampah kecil",
                recycle: "Kumpulkan kantong plastik bersih untuk didaur ulang",
                impact: "Mencemari laut, membunuh satwa laut, terurai sangat lama"
            },
            {
                name: "Kaleng Minuman",
                category: "anorganik",
                reduce: "Minum dari gelas, bawa botol minum sendiri",
                reuse: "Jadikan pot tanaman, wadah pensil, atau kerajinan",
                recycle: "Sangat mudah didaur ulang, bisa didaur ulang tanpa batas",
                impact: "Produksi aluminium membutuhkan energi tinggi"
            },
            {
                name: "Kaca Pecah",
                category: "anorganik",
                reduce: "Hati-hati dalam penggunaan, pilih wadah plastik untuk anak",
                reuse: "Pecahan kaca besar bisa dijadikan hiasan atau mozaik",
                recycle: "Kumpulkan ke tempat daur ulang kaca khusus",
                impact: "Berbahaya jika dibuang sembarangan, tapi 100% dapat didaur ulang"
            },
            {
                name: "Popok Bekas",
                category: "anorganik",
                reduce: "Gunakan popok kain yang bisa dicuci ulang",
                reuse: "Popok sekali pakai tidak bisa digunakan ulang",
                recycle: "Belum ada teknologi daur ulang yang efektif",
                impact: "Terurai dalam 500+ tahun, menumpuk di TPA"
            },
            {
                name: "Minyak Jelantah",
                category: "organik",
                reduce: "Gunakan minyak secukupnya, filter untuk memperpanjang umur",
                reuse: "Saring dan gunakan 2-3 kali untuk menggoreng",
                recycle: "Olah menjadi sabun, lilin, atau biodiesel",
                impact: "Mencemari air jika dibuang ke selokan"
            }
        ];

        // Waste categories for encyclopedia
        const wasteCategories = [
            {
                name: "Sampah Organik",
                icon: "fas fa-seedling",
                color: "green",
                description: "Sampah yang berasal dari makhluk hidup dan dapat terurai secara alami",
                examples: ["Sisa makanan", "Daun kering", "Kulit buah", "Kotoran hewan"]
            },
            {
                name: "Sampah Anorganik",
                icon: "fas fa-recycle",
                color: "blue",
                description: "Sampah yang tidak dapat terurai secara alami atau membutuhkan waktu lama",
                examples: ["Plastik", "Logam", "Kaca", "Kertas"]
            },
            {
                name: "Sampah B3",
                icon: "fas fa-skull-crossbones",
                color: "red",
                description: "Bahan Berbahaya dan Beracun yang memerlukan penanganan khusus",
                examples: ["Baterai", "Obat kedaluwarsa", "Cat", "Pestisida"]
            },
            {
                name: "Sampah Elektronik",
                icon: "fas fa-mobile-alt",
                color: "purple",
                description: "Perangkat elektronik yang sudah tidak terpakai",
                examples: ["Smartphone", "Laptop", "TV", "Kulkas"]
            }
        ];

        // Quiz questions
        const quizQuestions = [
            {
                question: "Sampah organik yang paling cocok untuk kompos adalah:",
                options: ["Kulit pisang", "Botol plastik", "Baterai bekas", "Kaca pecah"],
                correct: 0,
                explanation: "Kulit pisang adalah sampah organik yang kaya nutrisi dan mudah terurai menjadi kompos."
            },
            {
                question: "Berapa lama waktu yang dibutuhkan botol plastik untuk terurai?",
                options: ["1-5 tahun", "50-100 tahun", "450-1000 tahun", "Tidak pernah terurai"],
                correct: 2,
                explanation: "Botol plastik membutuhkan waktu 450-1000 tahun untuk terurai sempurna di alam."
            },
            {
                question: "Cara terbaik untuk mengurangi sampah plastik adalah:",
                options: ["Membakarnya", "Menguburnya", "Menggunakan tas kain", "Membuangnya ke laut"],
                correct: 2,
                explanation: "Menggunakan tas kain atau tas belanja yang dapat digunakan berulang adalah cara terbaik mengurangi sampah plastik."
            },
            {
                question: "Sampah B3 yang paling sering ditemukan di rumah adalah:",
                options: ["Sisa makanan", "Baterai bekas", "Kertas koran", "Botol kaca"],
                correct: 1,
                explanation: "Baterai bekas mengandung logam berat yang berbahaya dan termasuk kategori B3."
            },
            {
                question: "Prinsip 3R yang pertama kali harus diterapkan adalah:",
                options: ["Recycle", "Reuse", "Reduce", "Semua sama"],
                correct: 2,
                explanation: "Reduce (mengurangi) adalah prioritas utama dalam 3R karena mencegah timbulnya sampah."
            }
        ];

        let currentQuizIndex = 0;
        let currentScore = 0;
        let dataTable;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            renderWasteCategories();
            initDataTable();
        });

        function renderWasteCategories() {
            const container = document.getElementById('wasteCategories');
            
            wasteCategories.forEach((category, index) => {
                const card = document.createElement('div');
                card.className = 'waste-card card bg-white shadow-xl';
                card.setAttribute('data-aos', 'fade-up');
                card.setAttribute('data-aos-delay', (index * 100).toString());
                
                card.innerHTML = `
                    <div class="card-body text-center">
                        <div class="text-6xl mb-4">
                            <i class="${category.icon} text-${category.color}-500"></i>
                        </div>
                        <h3 class="card-title justify-center text-xl mb-3">${category.name}</h3>
                        <p class="text-gray-600 mb-4">${category.description}</p>
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2">Contoh:</h4>
                            <div class="flex flex-wrap gap-1 justify-center">
                                ${category.examples.map(example => 
                                    `<span class="badge badge-outline badge-sm">${example}</span>`
                                ).join('')}
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle mr-1"></i>Pelajari Lebih Lanjut
                        </button>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        function initDataTable() {
            dataTable = $('#wasteDataTable').DataTable({
                data: wasteData,
                columns: [
                    { data: 'name' },
                    { 
                        data: 'category',
                        render: function(data) {
                            const categoryNames = {
                                'organik': 'Organik',
                                'anorganik': 'Anorganik',
                                'b3': 'B3',
                                'elektronik': 'Elektronik'
                            };
                            const colors = {
                                'organik': 'success',
                                'anorganik': 'info',
                                'b3': 'error',
                                'elektronik': 'warning'
                            };
                            return `<span class="badge badge-${colors[data]}">${categoryNames[data] || data}</span>`;
                        }
                    },
                    { data: 'reduce' },
                    { data: 'reuse' },
                    { data: 'recycle' },
                    { data: 'impact' }
                ],
                language: {
                    url: '//cdn.datatables.net/plug-ins/1.13.7/i18n/id.json'
                },
                responsive: true,
                pageLength: 10
            });
        }

        // Filter functions
        function filterData() {
            const searchText = document.getElementById('searchCategory').value.toLowerCase();
            const filterCategory = document.getElementById('filterWasteCategory').value;
            const filter3R = document.getElementById('filter3R').value;

            let filteredData = wasteData.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(searchText);
                const matchesCategory = !filterCategory || item.category === filterCategory;
                const matches3R = !filter3R || 
                    item.reduce.toLowerCase().includes(filter3R) ||
                    item.reuse.toLowerCase().includes(filter3R) ||
                    item.recycle.toLowerCase().includes(filter3R);

                return matchesSearch && matchesCategory && matches3R;
            });

            dataTable.clear().rows.add(filteredData).draw();
        }

        // Quiz functions
        function startQuiz() {
            document.getElementById('quiz-section').scrollIntoView({ behavior: 'smooth' });
        }

        function startQuizGame() {
            currentQuizIndex = 0;
            currentScore = 0;
            
            document.getElementById('quizStart').classList.add('hidden');
            document.getElementById('quizGame').classList.remove('hidden');
            document.getElementById('totalQuestions').textContent = quizQuestions.length;
            
            showQuestion();
        }

        function showQuestion() {
            const question = quizQuestions[currentQuizIndex];
            
            document.getElementById('currentQuestion').textContent = currentQuizIndex + 1;
            document.getElementById('currentScore').textContent = currentScore;
            document.getElementById('questionText').textContent = question.question;
            
            const progress = ((currentQuizIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('quizProgress').value = progress;
            
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option btn btn-outline btn-lg p-4 h-auto text-left';
                button.innerHTML = `
                    <div class="w-full">
                        <span class="font-bold mr-2">${String.fromCharCode(65 + index)}.</span>
                        ${option}
                    </div>
                `;
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
        }

        function selectAnswer(selectedIndex) {
            const question = quizQuestions[currentQuizIndex];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((option, index) => {
                option.disabled = true;
                if (index === question.correct) {
                    option.classList.add('btn-success');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('btn-error');
                }
            });
            
            if (selectedIndex === question.correct) {
                currentScore += 10;
            }
            
            setTimeout(() => {
                currentQuizIndex++;
                if (currentQuizIndex < quizQuestions.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }, 2000);
        }

        function showResults() {
            document.getElementById('quizGame').classList.add('hidden');
            document.getElementById('quizResult').classList.remove('hidden');
            
            const percentage = (currentScore / (quizQuestions.length * 10)) * 100;
            let resultText, resultIcon, resultColor;
            
            if (percentage >= 80) {
                resultText = "Luar Biasa!";
                resultIcon = "fas fa-trophy text-yellow-500";
                resultColor = "text-green-600";
            } else if (percentage >= 60) {
                resultText = "Bagus!";
                resultIcon = "fas fa-medal text-silver";
                resultColor = "text-blue-600";
            } else {
                resultText = "Perlu Belajar Lagi";
                resultIcon = "fas fa-book text-orange-500";
                resultColor = "text-orange-600";
            }
            
            document.getElementById('resultContent').innerHTML = `
                <div class="text-center">
                    <i class="${resultIcon} text-8xl mb-6"></i>
                    <h3 class="text-3xl font-bold ${resultColor} mb-4">${resultText}</h3>
                    <p class="text-2xl mb-4">Skor Anda: <span class="font-bold">${currentScore}</span> dari ${quizQuestions.length * 10}</p>
                    <p class="text-xl mb-6">Persentase: <span class="font-bold">${percentage.toFixed(0)}%</span></p>
                    <div class="stats shadow">
                        <div class="stat">
                            <div class="stat-title">Benar</div>
                            <div class="stat-value text-success">${currentScore / 10}</div>
                        </div>
                        <div class="stat">
                            <div class="stat-title">Salah</div>
                            <div class="stat-value text-error">${quizQuestions.length - (currentScore / 10)}</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function resetQuiz() {
            document.getElementById('quizResult').classList.add('hidden');
            document.getElementById('quizStart').classList.remove('hidden');
        }

        function scrollToEncyclopedia() {
            document.getElementById('encyclopedia-section').scrollIntoView({ behavior: 'smooth' });
        }

        // Event listeners for filters
        document.getElementById('searchCategory').addEventListener('input', filterData);
        document.getElementById('filterWasteCategory').addEventListener('change', filterData);
        document.getElementById('filter3R').addEventListener('change', filterData);

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>